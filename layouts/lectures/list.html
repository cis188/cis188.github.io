{{ define "main" }}
  <h1>Lectures</h1>
  <style>
      .delimiter:last-child {
        display: none;
      }
      .no {
          background-color: lightgray;
      }
  </style>
  <table style="width: 70%; text-align: left;">
      <thead>
      <tr>
          <th>Week Of</th>
          <th>Topic</th>
          <th>Assignments Due</th>
      </tr>
      </thead>
      <tbody>
        {{ range sort .Pages.ByDate }}
          <tr class="{{if gt .Date now}}no{{end}}">
            <td>{{ dateFormat "1/2" .Date }}</td>
            <td><a href="{{ .Permalink }}">{{ .Title }}</a></td>
            <td>
            {{ range $asst := .Params.assignments }}
                {{ $path := $asst | printf "/homeworks/%s" | printf "%s" }}
                {{ with $.Site.GetPage $path }}
                    <a href="{{ .Permalink }}">{{ .Title }}</a>
                {{ end }}
                <span class="delimiter">|</span>
            {{ else }}
                N/A
            {{ end }}
            </td>
          </tr>
        {{ end }}
      </tbody>
  </table>

{{ end }}
